<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Account</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
</head>
<body class="bg-gray-100 text-gray-900 font-sans flex items-center justify-center min-h-screen">
    <div class="w-full max-w-md bg-white p-8 rounded-lg shadow-lg">
        <h3 class="text-2xl font-semibold mb-6 text-center">Create Account</h3>
        <form action="/register" method="post" class="space-y-4">
            <input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" type="text" placeholder="Name" name="name" required>
            <input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" type="text" placeholder="Username" name="username" required>
            <input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" type="email" placeholder="Email" name="email" required>
            <input id="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition" type="password" placeholder="Password" name="password" required oninput="this.value = this.value.trim()">
            <input class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500" type="number" placeholder="Age" name="age" required>
            <input class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg cursor-pointer transition" type="submit" value="Create Account">
        </form>
        <div class="text-center mt-4">
            <p class="text-sm text-gray-600">Already have an account? <a href="/login" class="text-blue-600 hover:underline">Login here</a></p>
        </div>
    </div>

    <style>
        .toastify .toast {
            color: white !important;
            font-family: 'Arial', sans-serif !important;
            font-size: 15px !important;
            font-weight: 600 !important;
            border-radius: 8px !important;
            padding: 12px 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .toastify .toast.success {
            background-color: #2D6A4F !important;  
        }

        .toastify .toast.error {
            background-color: #D32F2F !important;  
        }

        .toastify .toast.warning {
            background-color: #F57C00 !important; 
        }

        .toastify .toast.info {
            background-color: #1976D2 !important; 
        }

        .toastify .toast {
            animation: slideIn 0.3s ease-out, fadeOut 0.3s ease-in 2.7s;
        }

        @keyframes slideIn {
            0% {
                transform: translateY(-100px);
            }
            100% {
                transform: translateY(0);
            }
        }

        @keyframes fadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script>
        const params = new URLSearchParams(window.location.search);
        if (params.has('message')) {
            let message = "";
            let messageType = "";

            switch (params.get('message')) {
                case "registered":
                    message = "User created successfully!";
                    messageType = "success";
                    break;
                case "invalid":
                    message = "Invalid email or password.";
                    messageType = "error";
                    break;
                case "incorrect":
                    message = "Incorrect password.";
                    messageType = "error";
                    break;
                case "sessionExpired":
                    message = "Session expired, please log in again.";
                    messageType = "error";
                    break;
                case "loggedOut":
                    message = "Successfully logged out.";
                    messageType = "success";
                    break;
            }

            Toastify({
                text: message,
                duration: 3000,
                gravity: "top",
                position: "right",
                className: `toast ${messageType}`, 
                style: { color: "white" },
            }).showToast();
        }
    </script>
</body>
</html>
